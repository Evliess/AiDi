<!--pages/add-vip/add-vip.wxml-->
<navigation-bar></navigation-bar>
<view class="container"   scroll-y type="custom">
  <view class="title">
    <view>AIDI 会员充值</view>
  </view>

  <view class="card">
    <view class="card-header">
      <p class="card-title">会员充值</p>
    </view>
    <view class="form-group">
      <label class="form-label" for="phone">会员号或昵称</label>
      <input type="text" class="form-input" placeholder="请输入会员号或昵称" bindinput="onPhoneChange" value="{{user.phone}}"></input>
    </view>
    <view class="card-buttons">
      <button class="btn btn-primary" bind:tap="find">查找</button>
      <button class="btn btn-outline" bind:tap="clearData">重置</button>
    </view>
    <user-info wx:if="{{user.name}}" jsonData="{{user}}"></user-info>
  </view>
  <view class="card">
    <view class="card-header">
      <p class="card-title">充值</p>
    </view>
    <view class="form-group">
      <label class="form-label" for="money">充值金额</label>
      <input type="digit" class="form-input" placeholder="请输入充值金额" bindinput="onMoneyChange" value="{{user.money}}"></input>
    </view>

    <view class="form-group">
      <label class="form-label">充值日期</label>
      <picker mode="date" value="{{user.chargeAt}}" start="2024/09/01" end="2027/12/31" bindchange="onChargeAtChange">
        <input type="text" class="form-input" value="{{user.chargeAt}}" disabled="true"></input>
      </picker>
    </view>

    <view class="form-group">
      <radio-group bindchange="onRadioChange">
        <label class="form-label" for="type-1">会员类型</label>
        <label wx:for="{{items}}" wx:key="value">
          <radio value="{{item.value}}" checked="{{selectedValue === item.value}}" /> {{item.name}}
        </label>
      </radio-group>
    </view>
    <view wx:if="{{selectedValue=='day'}}" class="form-group">
      <label class="form-label" for="round">剩余次数</label>
      <input type="number" class="form-input" placeholder="请输入剩余次数" bindinput="onLeftCountChange" value="{{user.leftCount}}"></input>
    </view>
    <view wx:if="{{selectedValue!='day'}}" class="form-group">
      <label class="form-label" for="round">有效日期</label>
      <input type="text" class="form-input" placeholder="例如：2025/05/25" bindinput="onExpiredAtChange" value="{{user.expiredAt}}"></input>
    </view>
    <view class="form-group">
      <label class="form-label" for="money">备注</label>
      <input type="text" class="form-input" placeholder="备注" value="{{user.memo}}" bindinput="onMemoChange"></input>
    </view>
    <view class="card-buttons">
      <button class="btn btn-outline" style="visibility: hidden;">重置</button>
      <button class="btn btn-primary" bind:tap="confirm">确认</button>
    </view>
  </view>

</view>